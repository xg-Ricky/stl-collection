# STL Collection Management System - Development Instructions

This is a Django web application for managing 3D STL file collections. When working on this project, please follow these guidelines:

## Project Context
- **Purpose**: 3D STL file collection management system
- **Framework**: Django 5.2+ with SQLite database
- **Frontend**: Bootstrap 5 with modern, responsive design
- **Admin Interface**: Django-unfold for enhanced admin pages
- **Environment**: Windows with PowerShell

## Core Applications Structure
- `image_upload/` - Image upload system (admin-only access)
- `collection/` - Main collection views with gallery, search, and filtering
- `tags/` - Tag management system (admin-only access)
- `ranges/` - Range management (admin-only access)
- `tag_assign/` - Tag assignment functionality (admin-only access)
- `image_details/` - Detailed image views

## Key Technical Requirements

### Database Models
- **Image model**: ImageField, name, publisher, range, folder_location, upload date, notes, ManyToMany with Tags
- **Tag model**: Simple name field with proper string representation, linked to TagType for color coding
- **TagType model**: Manages tag categories with custom colors, sort order, and descriptions
- Use proper Django ORM relationships and constraints

### Tag System Features
- **Color Coding**: Tags display in their tag type colors throughout the application
- **Smart Text Color**: Automatic black/white text selection based on background color brightness
- **Type Management**: Organize tags into categories with visual distinction
- **Responsive Design**: Color coding works across all templates (gallery, details, assign)

### Frontend Guidelines
- **Bootstrap 5**: Use card-based layouts, responsive grid, proper form styling
- **Select2**: Enhanced multi-select for tag fields with Bootstrap theme
- **Icons**: Bootstrap Icons throughout the interface
- **Mobile-first**: Responsive design with mobile optimization
- **Accessibility**: Ensure proper WCAG compliance

### File Handling
- Media files stored in `uploaded_images/` directory
- Proper MEDIA_URL and MEDIA_ROOT configuration
- Secure file upload validation
- Organized storage structure

### Search & Filtering
- Django Q objects for complex queries
- Real-time filtering with GET parameters
- Search across names, publishers, ranges, and tags
- Pagination (25 items per page)
- Dropdown filters populated from database

## Code Quality Standards
- Use Django best practices and conventions
- Implement proper error handling and validation
- CSRF protection on all forms
- Clean, readable code with appropriate comments
- Follow DRY principles

## UI/UX Requirements
- Professional, modern interface
- Intuitive navigation with breadcrumbs
- Loading states and visual feedback
- Toast notifications for user actions
- Hover effects and smooth transitions
- Dark/light theme support

## Security Considerations
- Admin-only access for upload, tag management, and ranges
- Proper Django authentication and permissions
- Secure file upload handling
- Input validation and sanitization

## PowerShell Integration
- Bulk operations script for processing image directories
- SQLite database integration for bulk inserts
- Automated metadata extraction from file paths
- Error handling and logging

When making changes or suggestions:
1. Consider the existing Django app structure
2. Maintain Bootstrap 5 styling consistency
3. Ensure responsive design
4. Follow Django conventions and best practices
5. Test functionality thoroughly, especially file uploads
6. Keep user experience intuitive and efficient


## Development Workflow
- **Server Management**: Server is already running in a separate terminal
- **Development Process**: When requesting console output or debugging information, ask the user to provide relevant terminal output rather than attempting to start the server
- **Testing**: User will provide any necessary console logs, error messages, or command outputs when requested
- **Debugging**: Request specific console output when troubleshooting issues rather than running commands directly